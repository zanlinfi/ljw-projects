create table TBook (
	Id INT,
	Title NVARCHAR(max),
	Price float,
	AuthorName NVARCHAR(Max)
);
insert into TBook (Id, Title, Price, AuthorName) values (1, 'Ortiz and Sons', 88.9, 'Feednation');
insert into TBook (Id, Title, Price, AuthorName) values (2, 'Dooley, Kozey and Krajcik', 26.0, 'Tazzy');
insert into TBook (Id, Title, Price, AuthorName) values (3, 'Berge-Kreiger', 18.0, 'Quimm');
insert into TBook (Id, Title, Price, AuthorName) values (4, 'Abernathy and Sons', 3.9, 'Rhynoodle');
insert into TBook (Id, Title, Price, AuthorName) values (5, 'Lemke, Moen and Jerde', 15.4, 'Oodoo');
insert into TBook (Id, Title, Price, AuthorName) values (6, 'Beahan, Hilpert and Anderson', 42.0, 'Oyonder');
insert into TBook (Id, Title, Price, AuthorName) values (7, 'Bergnaum-Legros', 19.1, 'Thoughtblab');
insert into TBook (Id, Title, Price, AuthorName) values (8, 'Collier-Kuhic', 26.6, 'Jamia');
insert into TBook (Id, Title, Price, AuthorName) values (9, 'Hoeger-Kunze', 42.6, 'Avamm');
insert into TBook (Id, Title, Price, AuthorName) values (10, 'Kessler-Yost', 85.5, 'Realbuzz');
insert into TBook (Id, Title, Price, AuthorName) values (11, 'Keeling Group', 18.2, 'Agimba');
insert into TBook (Id, Title, Price, AuthorName) values (12, 'Ortiz-Gorczany', 34.7, 'Oyoba');
insert into TBook (Id, Title, Price, AuthorName) values (13, 'Kihn-Kiehn', 57.9, 'Topicshots');
insert into TBook (Id, Title, Price, AuthorName) values (14, 'Bayer, Wisozk and Hartmann', 44.1, 'Zoombox');
insert into TBook (Id, Title, Price, AuthorName) values (15, 'Collins, Howe and White', 22.1, 'Tagfeed');
insert into TBook (Id, Title, Price, AuthorName) values (16, 'Graham-Anderson', 87.4, 'Aivee');
insert into TBook (Id, Title, Price, AuthorName) values (17, 'Jacobs, Bogisich and Ziemann', 80.1, 'Jabbersphere');
insert into TBook (Id, Title, Price, AuthorName) values (18, 'Considine Inc', 57.6, 'Lazzy');
insert into TBook (Id, Title, Price, AuthorName) values (19, 'Romaguera-Satterfield', 49.4, 'Aivee');
insert into TBook (Id, Title, Price, AuthorName) values (20, 'Konopelski, Bogan and Kohler', 34.6, 'Snaptags');
insert into TBook (Id, Title, Price, AuthorName) values (21, 'Powlowski LLC', 75.3, 'Thoughtbeat');
insert into TBook (Id, Title, Price, AuthorName) values (22, 'Cormier Inc', 7.2, 'Tagcat');
insert into TBook (Id, Title, Price, AuthorName) values (23, 'Boehm-Kirlin', 31.9, 'Vinte');
insert into TBook (Id, Title, Price, AuthorName) values (24, 'Weber and Sons', 98.8, 'Zoomdog');
insert into TBook (Id, Title, Price, AuthorName) values (25, 'Miller-McCullough', 71.2, 'Ooba');
insert into TBook (Id, Title, Price, AuthorName) values (26, 'Harvey, Hyatt and Roob', 99.9, 'Meemm');
insert into TBook (Id, Title, Price, AuthorName) values (27, 'Walker, Barrows and Koch', 66.2, 'Buzzster');
insert into TBook (Id, Title, Price, AuthorName) values (28, 'Veum, Jones and Becker', 85.3, 'Realcube');
insert into TBook (Id, Title, Price, AuthorName) values (29, 'Johns, McClure and Reynolds', 38.9, 'Thoughtbeat');
insert into TBook (Id, Title, Price, AuthorName) values (30, 'Lockman Inc', 38.9, 'Bubbletube');
insert into TBook (Id, Title, Price, AuthorName) values (31, 'Christiansen, Mante and Gerhold', 28.1, 'Dabjam');
insert into TBook (Id, Title, Price, AuthorName) values (32, 'Conn, Walsh and Williamson', 75.4, 'Izio');
insert into TBook (Id, Title, Price, AuthorName) values (33, 'Cassin-Purdy', 60.2, 'Quatz');
insert into TBook (Id, Title, Price, AuthorName) values (34, 'Baumbach LLC', 48.4, 'Jaxbean');
insert into TBook (Id, Title, Price, AuthorName) values (35, 'Thiel, Price and Hoppe', 61.7, 'Browsezoom');
insert into TBook (Id, Title, Price, AuthorName) values (36, 'Welch LLC', 37.5, 'Chatterbridge');
insert into TBook (Id, Title, Price, AuthorName) values (37, 'Lynch, MacGyver and Effertz', 39.7, 'Quinu');
insert into TBook (Id, Title, Price, AuthorName) values (38, 'Bernhard, Rutherford and Howell', 45.7, 'Fatz');
insert into TBook (Id, Title, Price, AuthorName) values (39, 'Bashirian-Waelchi', 15.4, 'Flipopia');
insert into TBook (Id, Title, Price, AuthorName) values (40, 'Stiedemann, Koss and Graham', 36.1, 'Trilia');
insert into TBook (Id, Title, Price, AuthorName) values (41, 'Moore-Berge', 45.4, 'Feedbug');
insert into TBook (Id, Title, Price, AuthorName) values (42, 'Orn Group', 50.1, 'Zoonder');
insert into TBook (Id, Title, Price, AuthorName) values (43, 'Braun-Kub', 2.9, 'Flipbug');
insert into TBook (Id, Title, Price, AuthorName) values (44, 'O''Connell Group', 20.4, 'Riffwire');
insert into TBook (Id, Title, Price, AuthorName) values (45, 'Barton and Sons', 14.9, 'Avaveo');
insert into TBook (Id, Title, Price, AuthorName) values (46, 'Cormier-Emmerich', 72.7, 'Skajo');
insert into TBook (Id, Title, Price, AuthorName) values (47, 'Kovacek Group', 62.4, 'Yozio');
insert into TBook (Id, Title, Price, AuthorName) values (48, 'Senger, Lang and Veum', 82.2, 'Kazu');
insert into TBook (Id, Title, Price, AuthorName) values (49, 'Keebler and Sons', 88.7, 'Yotz');
insert into TBook (Id, Title, Price, AuthorName) values (50, 'Kohler-Cummerata', 17.8, 'Thoughtmix');


drop table TBook


SELECT TOP (1000) [Id]
      ,[Title]
      ,[Price]
      ,[AuthorName]
  FROM [Demo5_Feb].[dbo].[TBook]

  --create a stored procedure without parameters named GetBookAll
if (object_id('GetBookAll', 'P') is not null)
    drop proc GetBookAll
go
create procedure GetBookAll
as
begin
    select *
    from TBook
end

-- drop procedure GetBookAll
--execute GetBookAll 
execute GetBookAll
go

-- create a stored procedure named GetBookById
if (object_id('GetBookById', 'P') is not null)
    drop proc GetBookById
go
create proc GetBookById(@Id int)
as
    select * from TBook where Id=@Id;
go

execute GetBookById 2;

-- create a stored procedure named AddBook
if (object_id('AddBook', 'P') is not null)
    drop proc AddBook
go
create proc AddBook(@Title nvarchar(max) , @Price decimal(4,1), @AuthorName nvarchar(max))
as
begin
    insert into TBook values(@Title,@Price,@AuthorName)
end
go

execute AddBook 'book24', 19,  'me'

-- create a stored procedure named UpdateBookById
if (object_id('UpdateBookById', 'P') is not null)
    drop proc UpdateBookById
go
create proc UpdateBookById(@Id int,@Title nvarchar(max) , @Price float, @AuthorName nvarchar(max))
as
begin
    update TBook Set Title=@Title, Price=@Price, AuthorName=@AuthorName where Id=@Id
end
go
execute UpdateBookById 26, 'book26', 26,  'person'

SELECT TOP (1000) [Id]
      ,[Title]
      ,[Price]
      ,[AuthorName]
  FROM [Demo5_Feb].[dbo].[TBook]

  -- create a stored procedure named DeleteById
if (object_id('DeleteById', 'P') is not null)
    drop proc DeleteById
go
create proc DeleteById(@Id int)
as
begin
    DELETE FROM TBook WHERE Id = @Id;
end
go
execute DeleteById 29

-- show all stored procedure
select * from sys.objects where type='P'